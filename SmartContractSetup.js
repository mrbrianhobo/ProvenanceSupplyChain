import Web3 from 'web3';

const EthereumClient = new Web3(new Web3.providers.HttpProvider("http://localhost:8545"));

//JSON.stirngify(SupplyChain.abi) in the truffle console
var smartContractABI = '[{"constant":false,"inputs":[{"name":"serial","type":"uint256"},{"name":"n","type":"string"}],"name":"addNewItem","outputs":[{"name":"","type":"string"}],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"serial","type":"uint256"}],"name":"getIsItemForSale","outputs":[{"name":"","type":"bool"}],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"serial","type":"uint256"},{"name":"n","type":"string"}],"name":"createNewSoda","outputs":[{"name":"","type":"string"}],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"serial","type":"uint256"}],"name":"getItemParents","outputs":[{"name":"","type":"uint256[]"}],"payable":false,"type":"function"},{"constant":false,"inputs":[],"name":"viewFunds","outputs":[{"name":"","type":"uint256"}],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"serial","type":"uint256"}],"name":"getIsActive","outputs":[{"name":"","type":"bool"}],"payable":false,"type":"function"},{"constant":false,"inputs":[],"name":"withdraw","outputs":[{"name":"","type":"string"}],"payable":true,"type":"function"},{"constant":true,"inputs":[{"name":"serial","type":"uint256"}],"name":"isValidItem","outputs":[{"name":"","type":"bool"}],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"name","type":"string"}],"name":"join","outputs":[{"name":"","type":"string"}],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"serial","type":"uint256"}],"name":"getCurrentOwner","outputs":[{"name":"","type":"string"}],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"serial","type":"uint256"}],"name":"undoForSale","outputs":[{"name":"","type":"string"}],"payable":false,"type":"function"},{"constant":false,"inputs":[],"name":"getItemsForSaleArray","outputs":[{"name":"","type":"uint256[]"}],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"serial","type":"uint256"}],"name":"getOwnerHistoryArray","outputs":[{"name":"","type":"address[]"}],"payable":false,"type":"function"},{"constant":false,"inputs":[],"name":"getOwnedItemsArray","outputs":[{"name":"","type":"uint256[]"}],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"serial","type":"uint256"},{"name":"price","type":"uint256"}],"name":"markForSale","outputs":[{"name":"","type":"string"}],"payable":false,"type":"function"},{"constant":false,"inputs":[],"name":"deposit","outputs":[{"name":"","type":"string"}],"payable":true,"type":"function"},{"constant":true,"inputs":[{"name":"serial","type":"uint256"}],"name":"getItemName","outputs":[{"name":"","type":"string"}],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"serial","type":"uint256"}],"name":"purchase","outputs":[{"name":"","type":"string"}],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"serial","type":"uint256"}],"name":"getSalePrice","outputs":[{"name":"","type":"uint256"}],"payable":false,"type":"function"}]';

//copy from the testrpc terminal whenever you truffle migrate
var contractAddress = 0xcfade1b2f88649103e2968806dad522b1496572a; //reset every time

const smartContract = EthereumClient.eth.contract(smartContractABI).at(contractAddress);
export {EthereumClient, smartContract};