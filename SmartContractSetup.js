import Web3 from 'web3';

const EthClient = new Web3(new Web3.providers.HttpProvider("http://localhost:8545"));

//JSON.stirngify(SupplyChain.abi) in the truffle console
var smartContractABI = [{"constant":false,"inputs":[{"name":"serial","type":"uint256"},{"name":"n","type":"string"}],"name":"addNewItem","outputs":[{"name":"","type":"string"}],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"serial","type":"uint256"}],"name":"getIsItemForSale","outputs":[{"name":"","type":"bool"}],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"serial","type":"uint256"}],"name":"getItemParents","outputs":[{"name":"","type":"uint256[]"}],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"viewFunds","outputs":[{"name":"","type":"uint256"}],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"serial","type":"uint256"}],"name":"getIsActive","outputs":[{"name":"","type":"bool"}],"payable":false,"type":"function"},{"constant":false,"inputs":[],"name":"withdraw","outputs":[{"name":"","type":"string"}],"payable":true,"type":"function"},{"constant":true,"inputs":[{"name":"serial","type":"uint256"}],"name":"isValidItem","outputs":[{"name":"","type":"bool"}],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"name","type":"string"}],"name":"join","outputs":[{"name":"","type":"string"}],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"getYourName","outputs":[{"name":"","type":"string"}],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"serial","type":"uint256"}],"name":"getCurrentOwner","outputs":[{"name":"","type":"string"}],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"serial","type":"uint256"}],"name":"undoForSale","outputs":[{"name":"","type":"string"}],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"getItemsForSaleArray","outputs":[{"name":"","type":"uint256[]"}],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"serial","type":"uint256"}],"name":"getOwnerHistoryArray","outputs":[{"name":"","type":"address[]"}],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"hasJoined","outputs":[{"name":"","type":"bool"}],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"addr","type":"address"}],"name":"getOwnerName","outputs":[{"name":"","type":"string"}],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"getOwnedItemsArray","outputs":[{"name":"","type":"uint256[]"}],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"serial","type":"uint256"},{"name":"n","type":"string"},{"name":"parent","type":"uint256[]"}],"name":"createItemWithParents","outputs":[{"name":"","type":"string"}],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"serial","type":"uint256"},{"name":"price","type":"uint256"}],"name":"markForSale","outputs":[{"name":"","type":"string"}],"payable":false,"type":"function"},{"constant":false,"inputs":[],"name":"deposit","outputs":[{"name":"","type":"string"}],"payable":true,"type":"function"},{"constant":true,"inputs":[{"name":"serial","type":"uint256"}],"name":"getItemName","outputs":[{"name":"","type":"string"}],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"serial","type":"uint256"}],"name":"purchase","outputs":[{"name":"","type":"string"}],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"serial","type":"uint256"}],"name":"getSalePrice","outputs":[{"name":"","type":"uint256"}],"payable":false,"type":"function"},{"inputs":[],"payable":false,"type":"constructor"}];

//copy from the testrpc terminal whenever you truffle migrate
var contractAddress = '0x07cc34fbb50c4c6a538ec3a47faa34420bc4f69d'; //reset every time

const smartContract = EthClient.eth.contract(smartContractABI).at(contractAddress);

export {smartContract, EthClient};